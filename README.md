Дипломный проект курса Backend python-разработчик от Яндекс.Практикум.

# Проект «Продуктовый помощник» - Foodgram
![example workflow](https://github.com/.github/workflows/backend.yml/badge.svg)
### Foodgram - Продуктовый помощник. 
Сервис позволяет публиковать рецепты, подписывать на публикации других пользователей, добавлять понравившиеся рецепты в список "Избранное", а перед походом в магазин - скачивать сводный список продуктов, рекомендуемых для приготовления одного или нескольких выбранных блюд.


Данные для входа в админку:

ссылка:
``` 
http://51.250.16.171/admin/
``` 

пользователь: 

``` 
i@nastyatr.ru
```
пароль: 
``` 
12345password
``` 



## 1. Описание
 Проект "Продуктовый помощник" (Foodgram) предоставляет возможность использования возможности:

- регистрироваться на сайте
- создавать свои рецепты и управлять ими (корректировать\удалять)
- пользоваться рецептами других авторов
- добавлять рецепты других авторов в "Избранное" и в "Корзину"
- подписываться на других авторов
- скачивать список ингредиентов для рецептов, добавленных в "Корзину".

## 2. Установка Docker (на платформе Ubuntu)
- Проект подходит в четырех контейнерах Docker *(db-1, frontend-1, trusova_backend_1, nginx-1).*
- Для запуска необходимо установить Docker и Docker Compose.
Подробнее об установке на других платформах можно узнать на [официальном сайте](https://docs.docker.com/engine/install/) 


## 3. База данных и переменные окружения
- Проект использует базу данных **PostgreSQL**.
- Для подключения и заполнения файлов к базе данных необходимо создать и заполнить файл _".env"_ с переменными окружениями в папке _"./infra/"._

Шаблон для заполнения файла ".env":

```
DB_ENGINE=django.db.backends.postgresql
DB_NAME=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
DB_HOST=db
DB_PORT=5432
SECRET_KEY='Здесь указать секретный ключ'
ALLOWED_HOSTS='Здесь указать имя или IP хоста' (Для локального запуска - 127.0.0.1)
```


## 4. Команды для запуска
- Перед запуском необходимо склонировать проект:
- Выполните команду в терминале

```git clone git@github.com:nastasiatr/foodgram-project-react.git```


Cоздать и активировать виртуальное окружение проекта:

```
python -m venv venv
```
**для Linux:** 
```
source venv/bin/activate
```
**для Windows:** 
```
source venv/Scripts/activate
```

установить зависимость от файла requirements.txt:
**для Linux:** 
```
python3 -m pip install --upgrade pip
```
**для Windows:** 
```
pip install -r requirements.txt
```
Далее необходимо собрать образы

Из папки "./backend/foodgram/" :
```
docker build -t trusova/foodgram:v3.1 .
```

После создания образов можно создавать и запускать контейнеры.
Из папки "./infra/"
```
docker-compose up -d
```
После успешного запуска контейнеров выполняем миграции:
```
docker-compose exec backend python manage.py migrate
```
Создать суперюзера (Администратора):
```
docker-compose exec backend python manage.py createsuperuser
```
Собрать статику:
```
docker-compose exec backend python manage.py collectstatic --no-input
```
Готово! Теперь доступность проекта можно проверить по адресу http://localhost/


## 5. Заполнение базы данных
- С проектом поставляются данные об ингредиентах.
- Заполнить базу данных ингредиентами можно выполнив команду из папки _"./infra/":_
```
docker-compose exec backend python manage.py fill_ingredients_from_csv --path data/
```
Также необходимо заполнить базу данных тегами (или другими данными).
Для этого требуется войти в админ-зону проекта под логином и паролем администратора.


## 6. Технологии:
- Django==2.2
- Django-rest-framework==3.12.4
- Python==3.8.10
- PostgreSQL
- Docker


## 7. Об авторе
- Трусова Анастасия Андреевна
- Python-разработчик (Backend)
- Россия, Иркутск
- Электронная почта: i@nastyatr.ru
- [Телеграмма](https://t.me/TrusovaN)